<div class="background"></div>

<div class="container" *ngIf="selectedCharacter">
  <ion-grid>
    <ion-row>
      <ion-col size="12">
        <ion-img [src]="selectedCharacter.image"></ion-img>
      </ion-col>
      <ion-col size="12" class="ion-text-center ion-margin-top">
        <ion-text>
          {{ selectedCharacter.text }}
        </ion-text>
      </ion-col>
    </ion-row>
  </ion-grid>

  <ion-grid class="bottom-position" >
    <ion-row *ngIf="status !== 'answer'">
      <ion-col size="4">
        <ion-fab-button color="success" class="ion-fab-button-large" id="answer-button" (click)="changeStatus('answer')">
          <ion-icon name="checkmark"></ion-icon>
        </ion-fab-button>
      </ion-col>
      <ion-col size="4">
        <ion-fab-button size="medium" style="margin-top: 10px;" id="floating-answer-button"
          (touchstart)="floatingAnswerButtonTouch($event, 'floating-answer-button')"
          (touchend)="floatingAnswerButtonTouch($event, 'floating-answer-button')"
          (touchmove)="floatingAnswerButtonTouch($event, 'floating-answer-button')">
          <ion-icon name="call" class="rotate-animation"></ion-icon>
        </ion-fab-button>
      </ion-col>
      <ion-col size="4">
        <ion-fab-button color="danger" class="ion-fab-button-large" id="reject-button" (click)="changeStatus('reject')">
          <ion-icon name="close"></ion-icon>
        </ion-fab-button>
      </ion-col>
      <ion-col size="12" class="ion-hide">
        <audio autoplay loop>
          <source src="../../../assets/sounds/laugh/laugh9.mp3">
        </audio>
      </ion-col>
    </ion-row>
    <ion-row *ngIf="status === 'answer'">
      <ion-col size="4">
      </ion-col>
      <ion-col size="4">
        <ion-fab-button color="danger" class="ion-fab-button-large" id="reject-button" (click)="dismissCall()">
          <ion-icon name="close"></ion-icon>
        </ion-fab-button>
      </ion-col>
      <ion-col size="4">
      </ion-col>
      <ion-col size="12">
        <audio autoplay (ended)="musicEnded()">
          <source [src]="musicName">
        </audio>
      </ion-col>
    </ion-row>
  </ion-grid>
</div>